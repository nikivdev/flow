version = 1

[storage]
provider = "1focus.ai"

[[tasks]]
name = "setup"
command = "cargo check"
description = "Compile the workspace to make sure the toolchain works"
rerun_on = ["package.json", "*.ts"]
activate_on_cd_to_root = true

[[tasks]]
name = "dev-hub"
command = "cargo run -- daemon --host 127.0.0.1 --port 9050"
description = "Runs the hub daemon (local version)"

[[tasks]]
name = "deploy-cli-local"
command = "./scripts/deploy.sh"
description = "Build the CLI/daemon and copy the binary to ~/.local/bin/flow"

[[tasks]]
name = "deploy-cli-release"
command = "FLOW_PROFILE=release ./scripts/deploy.sh"
description = "Build the CLI/daemon with --release and copy the binary to ~/.local/bin/flow"

[[tasks]]
name = "commit"
command = "fast commitPush"
description = "Commit with AI"

[dependencies]
"github.com/1focus-ai/fast" = "fast"
